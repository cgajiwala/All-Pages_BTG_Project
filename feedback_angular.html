<!DOCTYPE html>
<html lang="en">

  <head>  
    <title>Customer Feedback Form</title>  
	<meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
   
   <!-------------Author: Chirag Gajiwala------------------>
   
   
   <!--for footer-->
   
   <link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
		<script src="js/jquery.min.js"></script>
		<link href="css/animate.css" rel="stylesheet" type="text/css" media="all">
		<script src="js/wow.min.js"></script>
		<script>
		new WOW().init();
		</script>
		<script type="text/javascript" src="js/move-top.js"></script>
		<script type="text/javascript" src="js/easing.js"></script>
		<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
				});
			});
		</script>

		
		
		<link href="css/style.css" rel='stylesheet' type='text/css' />
		
		<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
		
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
   
   
     <!--for footer-->
   
   
    <style>
      .username.ng-valid {
          background-color: lightgreen;
      }
      .username.ng-dirty.ng-invalid-required {
          background-color: red;
      }
      .username.ng-dirty.ng-invalid-minlength {
          background-color: yellow;
      }
	  
	  
 
      .email.ng-valid {
          background-color: lightgreen;
      }
      .email.ng-dirty.ng-invalid-required {
          background-color: red;
      }
      .email.ng-dirty.ng-invalid-email {
          background-color: yellow;
      }
	  
	  .phone.ng-valid {
	    background-color: lightgreen;
	  }
	  
	  .phone.ng-dirty.ng-invalid-required {
	    background-color: red;  
	  }
	  .phone.ng-dirty.ng-invalid-minlength {
	   background-color: yellow;
	  }
	  
	  
	  .form-horizontal{
	  margin-left:30px;}
	  
	  .comments.ng-valid {
	    background-color: lightgreen;
	  }
	  
	  .comments.ng-dirty.ng-invalid-required {
	    background-color: red;  
	  }
	  .comments.ng-dirty.ng-invalid-minlength {
	   background-color: yellow;
	  }
 
	  
    </style>
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
     <link rel="stylesheet" href="app.css">
  </head>
  <body ng-app="myApp" style="margin: 3.5%">
  <br>

  <div class="container-fluid">
  <nav class="navbar navbar-inverse">
  <div class="container-fluid">	
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!--<a class="navbar-brand" href="#">Brand</a>-->
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="schedules and maps.html">Schedules & Maps<span class="sr-only">(current)</span></a></li>
        <li><a href="Fares.html">Fares</a></li>
		   <li><a href="TipsforT.html">Tips</a></li>
		   <li><a href="AboutBTG.html">About BTG</a></li>
		   <li><a href="CustomerSupport.html">Customer Support</a></li>
		   <li><a href="safety.html">Safety</a></li>
     
      </ul>
     
  
    </div>
  </div>
</nav>

  
  <h2>Comments form</h2>
				<p>Your feedback is very important to us. It helps us meet our goal to provide safe, reliable, clean, and 
				accessible service. Please fill out the form below and click the submit button at the bottom. 
				Your comments will be reviewed carefully by our Customer Support Group.</p>
				<p>Items in * are required</p>
				<h3>Personal Information</h3>
				<p>Please tell us who you are so we can follow up with you.</p>
				
	 
      <div class="generic-container" ng-controller="AppController as ctrl">
          <div class="panel panel-default">
              <div class="panel-heading"><span class="lead">User Feedback Form </span></div><br>
              <div class="formcontainer">
                  <form ng-submit="ctrl.submit()" name="myForm" class="form-horizontal">
                      <input type="hidden" ng-model="ctrl.user.id" />
                      <div class="row">
                          <div class="form-group col-md-10">
                              <label class="col-md-2 control-lable" for="uname">Name *</label>
                              <div class="col-md-7">
                                  <input type="text" ng-model="ctrl.user.username" id="uname " class="username form-control input-sm" placeholder="Enter your name " ng-pattern="/^[A-Z][-'a-zA-Z]+,?\s[A-Z][-'a-zA-Z]{0,19}$/" required/>
                                  <div class="has-error" ng-show="myForm.$dirty">
                                      <span ng-show="myForm.uname.$error.required">This is a required field</span>
                                      <span ng-show="myForm.uname.$error.minlength">Minimum length required is 3</span>
                                      <span ng-show="myForm.uname.$invalid">This field is invalid </span>
                                  </div>
                              </div>
                          </div>
                      </div>
                         
                       
                     
 
                      <div class="row">
                          <div class="form-group col-md-10">
                              <label class="col-md-2 control-lable" for="email">Email *</label>
                              <div class="col-md-7">
                                  <input type="email" ng-model="ctrl.user.email" id="email" class="email form-control input-sm" placeholder="Enter your Email " ng-pattern = "/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i" required/>
                                  <div class="has-error" ng-show="myForm.$dirty">
                                      <span ng-show="myForm.email.$error.required">This is a required field</span>
                                      <span ng-show="myForm.email.$invalid">This field is invalid </span>
                                  </div>
                              </div>
                          </div>
                      </div>
					  
					  
					  <div class="row">
                          <div class="form-group col-md-10">
                              <label class="col-md-2 control-lable" for="phone"> Phone *</label>
                              <div class="col-md-7">
                                   <input type="phone" ng-model="ctrl.user.phone" id="phone" class="phone form-control input-sm" placeholder="Enter your Phone " ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/" required/>
                                  <div class="has-error" ng-show="myForm.$dirty">
                                      <span ng-show="myForm.phone.$error.required">This is a required field</span>
									  <span ng-show="myForm.phone.$error.minlength">Minimum length required is 10</span>
                                      <span ng-show="myForm.phone.$invalid">This field is invalid </span>
                                  </div>
                              </div>
                          </div>
                      </div>
					  
					     
					  
					   <div class="row">
                          <div class="form-group col-md-10">
                              <label class="col-md-2 control-lable" for="comments">Comments *</label>
                              <div class="col-md-7">
                                  <input type="text" ng-model="ctrl.user.comments" id="comments" class="comments form-control input-sm" placeholder="Enter your Comments  " required ng-minlength="3"/>
								  <!--class="address in css -->
								  <div class="has-error" ng-show="myForm.$dirty">
								  <span ng-show="myForm.comments.$error.required">This is a required field</span>
								  <span ng-show="myForm.comments.$error.minlength">Minimum length required is 3</span>
                                      <span ng-show="myForm.comments.$invalid">This field is invalid </span>
								  
                              </div>
                          </div>
                      </div>
 
                      <div class="row">
                         <!-- <div class="form-actions floatRight">
                              &nbsp<input type="submit"  value="{{!ctrl.user.id ? 'Add' : 'Update'}}" class="btn btn-primary btn-sm" ng-disabled="myForm.$invalid">
                              <button type="button" ng-click="ctrl.reset()" class="btn btn-warning btn-sm" ng-disabled="myForm.$pristine">Reset Form</button>
                          </div>-->
                      </div>
					   <div class="form-actions floatRight">
                              &nbsp<input type="submit"  value="{{!ctrl.user.id ? 'Add' : 'Update'}}" class="btn btn-primary btn-sm" ng-disabled="myForm.$invalid">
                              <button type="button" ng-click="ctrl.reset()" class="btn btn-warning btn-sm" ng-disabled="myForm.$pristine">Reset Form</button>
                          </div><br>
					  
                  </form>
              </div>
          </div>
        
		  
      </div>
       
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js">
      </script>  
      
	  <script>
          angular.module('myApp', [])
          .controller('AppController', ['$scope', function($scope) {
              var self = this;
              self.user={id:null,username:'',email:'', phone:'',comments:''};
              self.id = 1;
               
              self.users = [// In future posts, we will get it from server using service
                      
                      ];
               
              self.submit = function() {
                  if(self.user.id === null){
                      self.user.id = self.id++;
                      console.log('Saving New User', self.user);    
                      self.users.push(self.user);//Or send to server, we will do it in when handling services
                  }else{
                      for(var i = 0; i < self.users.length; i++){
                          if(self.users[i].id === self.user.id) {
                            self.users[i] = self.user;
                            break;
                          }
                      }
                     console.log('User updated with id ', self.user.id);
                  }
                  self.reset();
              };
               
              self.edit = function(id){
                  console.log('id to be edited', id);
                  for(var i = 0; i < self.users.length; i++){
                      if(self.users[i].id === id) {
                         self.user = angular.copy(self.users[i]);
                         break;
                      }
                  }
              }
               
              self.remove = function(id){
                  console.log('id to be deleted', id);
                  for(var i = 0; i < self.users.length; i++){
                      if(self.users[i].id === id) {
                         self.users.splice(i,1);
                         if(self.user.id === id){//It is shown in form, reset it.
                            self.reset();
                         }
                         break;
                      }
                  }
              }
               
              self.reset = function(){
                  self.user={id:null,username:'',email:'', phone:'',comments:''};
                  $scope.myForm.$setPristine(); //reset Form
              }
 
      }]);
  </script>
  
    <div class="panel panel-default">
                <!-- Default panel contents -->
              <div class="panel-heading"><span class="lead">List of Comments </span></div>
              <div class="tablecontainer">
                  <table class="table table-hover">
                      <thead>
                          <tr>
                              <th>ID.</th>
                              <th>Name</th>
                              <th>Email</th>
							  <th>Phone</th>
							  <th>Comments</th>
                              <th width="40%">
                          </tr>
                      </thead>
                      <tbody>
                          <tr ng-repeat="u in ctrl.users">
                              <td><span ng-bind="u.id"></span></td>
                              <td><span ng-bind="u.username"></span></td>
                              <td><span ng-bind="u.email"></span></td>
							  <td><span ng-bind="u.phone"></span></td>
							  <td><span ng-bind="u.comments"></span></td>
							  
                              <td>
                              <button type="button" ng-click="ctrl.edit(u.id)" class="btn btn-success custom-width">Edit</button>  <button type="button" ng-click="ctrl.remove(u.id)" class="btn btn-danger custom-width">Remove</button>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>
		</div>  
	  
	  
	  			<!---- footer ---->
			<div class="footer">
				<div class="container">
					<div class="footer-grids">
						<div class="col-md-3 footer-grid ftr-sec wow fadeInLeft" data-wow-delay="0.4s">
							<h3>Navigation</h3>
							<ul>
								<li><a href="home.html">Home</a></li>
								<li><a href="AboutBTG.html">About</a></li>
								<li><a href="CustomerSupport.html">Customer Support</a></li>
								<li><a href="./">Products</a></li>
															
							</ul>
						</div>
						<div class="col-md-3 footer-grid ftr-sec wow fadeInLeft" data-wow-delay="0.4s">
							<h3>For Clients</h3>
							<ul>
								<li><a href="./">Forums</a></li>
							    <li><a href="./">Promotions</a></li>
								<li><a href="SignIn.html">Sign in</a></li>
								<li><a href="WeatherAlerts.html">News</a></li>								
							</ul>
						</div>
						<div class="col-md-3 footer-grid ftr-sec wow fadeInRight" data-wow-delay="0.4s">
							<h3>Follows</h3>
							<ul class="social-icons">

								<li><a class="twitter" href="twitter.com/"><span></span>twitter</a></li>
								<li><a class="facebook" href="facebook.com/"><span> </span>Facebook</a></li>
								<li><a class="googlepluse" href="plus.google.com/"><span> </span>google+</a></li>								
							</ul>
						</div>
						<div class="col-md-3 footer-grid ftr-sec ftr wow fadeInRight" data-wow-delay="0.4s">
							<h3>Our Location</h3>
							<ul class="location">
								<li><a class="hm" href="#"><span> </span>75 Saint Alphonsus Street</a></li>
								<li><a class="phn" href="#"><span> </span>TELEPHONE:8572051051</a></li>
							</ul>							
						</div>
						<div class="clearfix"> </div>
					</div>
					</div>
			</div>
	  
	  
	  
	  
  </body>
</html>